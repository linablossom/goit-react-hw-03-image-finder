(this["webpackJsonpgoit-react-hw-03-image-finder"]=this["webpackJsonpgoit-react-hw-03-image-finder"]||[]).push([[0],{11:function(e,a,t){e.exports={ImageGalleryItem:"ImageGalleryItem_ImageGalleryItem__2qoWa",ImageGalleryItemImage:"ImageGalleryItem_ImageGalleryItemImage__3K8Z3"}},12:function(e,a,t){e.exports={Overlay:"Modal_Overlay__2AxMb",Modal:"Modal_Modal__2WBTT"}},13:function(e,a,t){e.exports={ButtonContainer:"Button_ButtonContainer__3M82t",Button:"Button_Button__3R1xi"}},26:function(e,a,t){e.exports={ImageGallery:"ImageGallery_ImageGallery__DncjJ"}},4:function(e,a,t){e.exports={Searchbar:"Searchbar_Searchbar__DjWH3",SearchForm:"Searchbar_SearchForm__1ac2l",SearchFormButton:"Searchbar_SearchFormButton__21S85",SearchFormButtonLabel:"Searchbar_SearchFormButtonLabel__8f9cn",SearchFormInput:"Searchbar_SearchFormInput__VhsfU"}},72:function(e,a,t){},73:function(e,a,t){},74:function(e,a,t){"use strict";t.r(a);var n=t(1),r=t(23),o=t.n(r),c=t(10),s=t.n(c),i=t(14),l=t(24),u=t(5),m=t(6),h=t(8),g=t(7),d=t(25),b=t.n(d),p=t(4),j=t.n(p),I=t(0),f=function(e){Object(h.a)(t,e);var a=Object(g.a)(t);function t(){var e;Object(u.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=a.call.apply(a,[this].concat(r))).state={value:""},e}return Object(m.a)(t,[{key:"onInputChange",value:function(e){this.setState({value:e})}},{key:"render",value:function(){var e=this;return Object(I.jsx)("header",{className:j.a.Searchbar,children:Object(I.jsxs)("form",{className:j.a.SearchForm,onSubmit:function(a){a.preventDefault(),e.props.onSubmit(e.state.value)},children:[Object(I.jsx)("button",{type:"submit",className:j.a.SearchFormButton,children:Object(I.jsx)("span",{className:j.a.SearchFormButtonLabel,children:"Search"})}),Object(I.jsx)("input",{className:j.a.SearchFormInput,onChange:function(a){return e.onInputChange(a.target.value)},value:this.state.value,type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search images and photos"})]})})}}]),t}(n.Component),v=t(11),_=t.n(v),y=function(e){var a=e.images,t=e.onClick,n=a.webformatURL,r=a.tags,o=a.id;return Object(I.jsx)("li",{className:_.a.ImageGalleryItem,children:Object(I.jsx)("img",{"data-imageid":o,src:n,alt:r,onClick:t,className:_.a.ImageGalleryItemImage,width:"300",height:"200"})})},O=t(26),x=t.n(O),S=function(e){var a=e.images,t=e.onClick;return Array.isArray(a)?Object(I.jsx)("ul",{className:x.a.ImageGallery,children:a.map((function(e){return Object(I.jsx)(y,{images:e,onClick:t},e.id)}))}):null},k=t(12),C=t.n(k),M=function(e){var a=e.images,t=e.imgId,n=e.onClick,r=a.find((function(e){return+e.id===+t}));return Object(I.jsx)("div",{className:C.a.Overlay,onClick:n,children:Object(I.jsx)("div",{className:C.a.Modal,children:Object(I.jsx)("img",{src:r.largeImageURL,alt:""})})})},w=t(13),B=t.n(w),F=function(e){var a=e.onClick;return Object(I.jsx)("div",{className:B.a.ButtonContainer,children:Object(I.jsx)("button",{className:B.a.Button,type:"button",onClick:a,children:"Load more"})})},G=t(27),N=t.n(G),q=(t(72),function(e){Object(h.a)(t,e);var a=Object(g.a)(t);function t(){var e;Object(u.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=a.call.apply(a,[this].concat(r))).state={data:[],page:1,query:"",showModal:!1,activeImageId:0,loading:!1},e.getImages=Object(l.a)(s.a.mark((function a(){var t;return s.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,e.setState({loading:!0}),a.next=4,b.a.get("https://pixabay.com/api/?q=".concat(e.state.query,"&page=").concat(e.state.page,"&key=22358889-96b0c16e8ac0685cc0e479941&image_type=photo&orientation=horizontal&per_page=12"));case 4:t=a.sent,e.setState({data:[].concat(Object(i.a)(e.state.data),Object(i.a)(t.data.hits)),page:e.state.query?1:e.state.page,loading:!1}),a.next=11;break;case 8:a.prev=8,a.t0=a.catch(0),console.log(a.t0);case 11:case"end":return a.stop()}}),a,null,[[0,8]])}))),e.searchImages=function(a){if(console.log(a),a)return e.setState({query:a,data:[]},e.getImages)},e.loadMoreImages=function(){e.setState({page:e.state.page+1},e.getImages)},e.openModal=function(a){var t=a.target.dataset.imageid;e.setState({showModal:!0,activeImageId:t})},e.closeModal=function(a){e.setState({showModal:!1})},e}return Object(m.a)(t,[{key:"componentDidMount",value:function(){this.getImages()}},{key:"componentDidUpdate",value:function(e,a){this.state.data!==a.data&&window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"})}},{key:"render",value:function(){var e=this.state,a=e.data,t=e.showModal,n=e.activeImageId,r=e.loading,o=this.searchImages,c=this.loadMoreImages,s=this.openModal,i=this.closeModal;return Object(I.jsxs)(I.Fragment,{children:[Object(I.jsx)(f,{onSubmit:o}),a?Object(I.jsx)(S,{images:a,onClick:s}):null,t&&Object(I.jsx)(M,{images:a,imgId:n,onClick:i}),r?Object(I.jsx)(N.a,{}):Object(I.jsx)(F,{onClick:c})]})}}]),t}(n.Component));t(73);o.a.render(Object(I.jsx)(q,{}),document.getElementById("root"))}},[[74,1,2]]]);
//# sourceMappingURL=main.faaabdfd.chunk.js.map